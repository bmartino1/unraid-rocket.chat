# =============================================================================
#  unraid-rocket.chat  –  Environment Configuration
#  https://github.com/bmartino1/unraid-rocket.chat
# =============================================================================
#
#  ┌─────────────────────────────────────────────────────────────────────────┐
#  │  !! EDIT THE SECTION BELOW BEFORE RUNNING setup.sh !!                  │
#  │                                                                        │
#  │  At minimum you MUST change YOUR_UNRAID_IP to your server's IP.        │
#  │  Example: If your Unraid is at 192.168.1.50, replace every             │
#  │           occurrence of YOUR_UNRAID_IP with 192.168.1.50               │
#  └─────────────────────────────────────────────────────────────────────────┘
#
# =============================================================================

# =============================================================================
#  >>> USER MUST EDIT THESE <<<
# =============================================================================

# Your Unraid server IP address (REQUIRED — replace YOUR_UNRAID_IP)
NGINX_HOST=YOUR_UNRAID_IP

# ROOT_URL: How users reach Rocket.Chat from a browser.
#   - Default bridge mode:    http://YOUR_UNRAID_IP:60080
#   - With br0 custom IP:    http://YOUR_NGINX_BR0_IP
#   - With a domain name:    https://chat.yourdomain.com
ROOT_URL=http://YOUR_UNRAID_IP:60080

# =============================================================================
#  >>> OPTIONAL — Edit if needed <<<
# =============================================================================

# -----------------------------------------------------------------------------
#  Rocket.Chat
# -----------------------------------------------------------------------------
RC_IMAGE=registry.rocket.chat/rocketchat/rocket.chat
RC_RELEASE=latest
RC_PORT=3000
# Host port for DIRECT access (bypass Nginx). Set empty string to disable.
RC_HOST_PORT=3000
RC_BIND_IP=0.0.0.0
# Rocket.Chat Cloud registration token (optional — get one at cloud.rocket.chat)
REG_TOKEN=
# Prometheus metrics (harmless if unused)
PROMETHEUS_ENABLED=true
METRICS_PORT=9458

# -----------------------------------------------------------------------------
#  MongoDB
# -----------------------------------------------------------------------------
MONGODB_VERSION=8.2-ubi8
MONGO_PORT=27017
MONGO_DB=rocketchat
MONGO_RS=rs0

# -----------------------------------------------------------------------------
#  NATS
# -----------------------------------------------------------------------------
NATS_VERSION=2.11-alpine

# -----------------------------------------------------------------------------
#  Nginx Reverse Proxy
# -----------------------------------------------------------------------------
NGINX_VERSION=stable-alpine
#
# Port mapping (bridge mode — avoids conflict with Unraid WebUI on 80/443):
#   If nginx is on a br0/macvlan custom network with its own static IP,
#   you can change these to 80 and 443 since there's no port conflict.
#
NGINX_HTTP_PORT=60080
NGINX_HTTPS_PORT=60443
NGINX_BIND_IP=0.0.0.0

# -----------------------------------------------------------------------------
#  Paths (Unraid appdata — usually no need to change)
# -----------------------------------------------------------------------------
DATA_DIR=/mnt/user/appdata/unraid-rocket.chat
